{"version":3,"sources":["utils.js","context/AppContext.js","components/Ability.js","components/Abilities.js","components/Character.js","components/Weapons/Bonus.js","components/Weapons/EditWeapon.js","components/Stat.js","components/Sum.js","components/Weapons/Weapon.js","components/Weapons/Weapons.js","components/CharacterSheet.js","App.js","serviceWorker.js","index.js"],"names":["getStringNumber","number","toString","getAbilityModifier","abilityScore","Math","floor","hasModifier","modifiers","undefined","length","newCharacter","name","abilities","strength","score","modifier","effects","dexterity","constitution","intelligence","wisdom","charisma","baseAttackBonus","weapons","initialState","activeCharacterIndex","characters","reducer","state","items","skills","type","payload","set","key","value","get","push","remove","x","index","localStorage","setItem","JSON","stringify","edit","abilityPath","effect","total","parseInt","reduce","prev","calculateAbility","ranks","AppContext","createContext","Provider","AppProvider","children","useReducer","dispatch","Consumer","Ability","props","base","setAbilityScore","React","useState","anchorEl","setAnchorEl","handleClick","event","currentTarget","open","Boolean","className","onClick","style","display","flexDirection","textAlign","textTransform","IconButton","size","fontWeight","Popover","onClose","anchorOrigin","vertical","horizontal","transformOrigin","disableRestoreFocus","padding","justifyContent","Typography","marginLeft","map","source","Abilities","setEdit","context","useContext","renderAbility","path","onChange","alignItems","Character","handleChange","TextField","label","e","target","Bonus","bonus","identifier","abilityNames","damageDice","EditWeapon","weapon","emptyBonus","addItem","gridTemplateColumns","margin","fullWidth","select","attackAbility","ability","MenuItem","attackBonus","attackBonusIndex","Button","marginTop","variant","damageDie","dice","damageAbility","extraDamage","damageBonus","damageBonusIndex","color","gridColumn","justifySelf","Stat","mod","compare","a","b","comparison","Sum","sum","sort","Weapon","border","marginBottom","width","placeholder","criticalRange","fontSize","toLowerCase","concat","Weapons","newWeapon","CharacterSheet","setOpen","handleClose","Dialog","maxWidth","DialogContent","DialogActions","App","tab","setTab","useEffect","storedState","parse","getItem","Container","AppBar","Tabs","character","Tab","handleCharacteChange","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.c35329c9.chunk.js","sourcesContent":["function getStringNumber(number) {\r\n  if (number > 0) {\r\n    return \"+\" + number;\r\n  } else {\r\n    return number.toString();\r\n  }\r\n}\r\n\r\nfunction getAbilityModifier(abilityScore) {\r\n  return Math.floor((abilityScore - 10) / 2);\r\n}\r\n\r\nfunction getDisplayAbilityModifier(abilityScore) {\r\n  return getStringNumber(abilityScore);\r\n}\r\n\r\nexport const getAbilityScore = (ability, character, modifiers) => {\r\n  const base = character[ability];\r\n  const modSum = modifiers\r\n    .filter((mod) => mod.target === ability)\r\n    .reduce(function (prev, mod) {\r\n      return prev + parseInt(mod.value);\r\n    }, 0);\r\n\r\n  return getAbilityModifier(base + modSum);\r\n};\r\n\r\nconst hasModifier = (modifiers) => {\r\n  return modifiers !== undefined && modifiers.length > 0;\r\n};\r\n\r\nexport {\r\n  getAbilityModifier,\r\n  getDisplayAbilityModifier,\r\n  getStringNumber,\r\n  hasModifier,\r\n};\r\n","import React, { createContext, useReducer } from \"react\";\r\nimport get from \"lodash/get\";\r\nimport set from \"lodash/set\";\r\nimport remove from \"lodash/remove\";\r\nimport { skillsArray } from \"../data/skills\";\r\nimport { getAbilityModifier } from \"../utils\";\r\n\r\nexport const newCharacter = {\r\n  name: \"My Character\",\r\n  abilities: {\r\n    strength: {\r\n      score: 10,\r\n      modifier: 0,\r\n      effects: [],\r\n    },\r\n    dexterity: {\r\n      score: 10,\r\n      modifier: 0,\r\n      effects: [],\r\n    },\r\n    constitution: {\r\n      score: 10,\r\n      modifier: 0,\r\n      effects: [],\r\n    },\r\n    intelligence: {\r\n      score: 10,\r\n      modifier: 0,\r\n      effects: [],\r\n    },\r\n    wisdom: {\r\n      score: 10,\r\n      modifier: 0,\r\n      effects: [],\r\n    },\r\n    charisma: {\r\n      score: 10,\r\n      modifier: 0,\r\n      effects: [],\r\n    },\r\n  },\r\n  baseAttackBonus: 0,\r\n  weapons: [],\r\n};\r\n\r\nconst initialState = {\r\n  activeCharacterIndex: 0,\r\n  characters: [newCharacter],\r\n};\r\n\r\nconst calculateAbility = (state, abilityPath, abilityScore, effect) => {\r\n  const { score, effects } = get({ ...state }, abilityPath);\r\n\r\n  if (abilityScore === null) {\r\n    abilityScore = score;\r\n  }\r\n\r\n  if (effect) {\r\n    effects.push(effect);\r\n  }\r\n\r\n  const total = effects\r\n    ? parseInt(abilityScore) +\r\n      effects.reduce(function (prev, effect) {\r\n        return prev + parseInt(effect.value);\r\n      }, 0)\r\n    : parseInt(abilityScore);\r\n\r\n  return set({ ...state }, abilityPath, {\r\n    score: abilityScore,\r\n    modifier: getAbilityModifier(total),\r\n    effects: effects,\r\n  });\r\n};\r\n\r\nconst reducer = (state, { type, payload }) => {\r\n  let items;\r\n  let skills;\r\n\r\n  switch (type) {\r\n    case \"on_input\":\r\n      return set({ ...state }, payload.key, payload.value);\r\n    case \"add_item\":\r\n      items = get({ ...state }, `${payload.key}`, []);\r\n      items.push(payload.value);\r\n      return set({ ...state }, `${payload.key}`, items);\r\n    case \"delete_item\":\r\n      items = get({ ...state }, `${payload.key}`, []);\r\n      remove(items, (x, index) => index === payload.value);\r\n      return set({ ...state }, `${payload.key}`, items);\r\n    case \"save_data\":\r\n      localStorage.setItem(\"state\", JSON.stringify(state));\r\n      return state;\r\n    case \"import_data\":\r\n      if (payload === null) return initialState;\r\n\r\n      return {\r\n        ...state,\r\n        ...payload,\r\n        edit: false,\r\n      };\r\n\r\n    // Take another look at these later\r\n    case \"set_ability_score\":\r\n      return calculateAbility(state, payload.key, payload.value);\r\n    case \"edit_skill\":\r\n      skills = get({ ...state }, \"skills\", []);\r\n      skills[payload.key].ranks = payload.value;\r\n      return set({ ...state }, \"skills\", skills);\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst AppContext = createContext(initialState);\r\nconst { Provider } = AppContext;\r\n\r\nconst StateProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n  return <Provider value={{ state, dispatch }}>{children}</Provider>;\r\n};\r\n\r\nexport const AppProvider = StateProvider;\r\nexport const AppConsumer = AppContext.Consumer;\r\n\r\nexport default AppContext;\r\n","import React from \"react\";\r\nimport Popover from \"@material-ui/core/Popover\";\r\nimport { getDisplayAbilityModifier } from \"../utils\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { getStringNumber } from \"../utils\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport RemoveIcon from \"@material-ui/icons/Remove\";\r\n\r\nexport default function Ability(props) {\r\n  const { base, edit, effects, name, modifier, setAbilityScore } = props;\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    if (!edit) {\r\n      setAnchorEl(event.currentTarget);\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const open = Boolean(anchorEl);\r\n\r\n  const handleAdd = () => {\r\n    setAbilityScore(base + 1);\r\n  };\r\n\r\n  const handleSubtract = () => {\r\n    if (base > 0) {\r\n      setAbilityScore(base - 1);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {edit ? (\r\n        <div\r\n          className=\"stat\"\r\n          onClick={handleClick}\r\n          style={{ display: \"flex\", flexDirection: \"column\" }}\r\n        >\r\n          <header style={{ textAlign: \"center\", textTransform: \"capitalize\" }}>\r\n            {name}\r\n          </header>\r\n          <div style={{ display: \"flex\" }}>\r\n            <IconButton onClick={handleSubtract} size=\"small\">\r\n              <RemoveIcon />\r\n            </IconButton>\r\n            <div style={{ fontWeight: \"bold\", textAlign: \"center\" }}>\r\n              {base}\r\n            </div>\r\n            <IconButton onClick={handleAdd} size=\"small\">\r\n              <AddIcon />\r\n            </IconButton>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <div className=\"stat\" onClick={handleClick}>\r\n            <div>\r\n              <header\r\n                style={{ textAlign: \"center\", textTransform: \"capitalize\" }}\r\n              >\r\n                {name}\r\n              </header>\r\n              <div style={{ fontWeight: \"bold\", textAlign: \"center\" }}>\r\n                {edit ? base : getDisplayAbilityModifier(modifier)}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <Popover\r\n            open={open}\r\n            anchorEl={anchorEl}\r\n            onClose={handleClose}\r\n            anchorOrigin={{\r\n              vertical: \"bottom\",\r\n              horizontal: \"center\",\r\n            }}\r\n            transformOrigin={{\r\n              vertical: \"top\",\r\n              horizontal: \"center\",\r\n            }}\r\n            disableRestoreFocus\r\n          >\r\n            <div style={{ padding: \"1rem\" }}>\r\n              <div\r\n                key=\"base\"\r\n                style={{ display: \"flex\", justifyContent: \"space-between\" }}\r\n              >\r\n                <Typography>Base</Typography>\r\n                <Typography style={{ marginLeft: \"1rem\" }}>{base}</Typography>\r\n              </div>\r\n              {effects.length > 0 ? (\r\n                <>\r\n                  {effects.map((effect) => (\r\n                    <div\r\n                      key={effect.source}\r\n                      style={{\r\n                        display: \"flex\",\r\n                        justifyContent: \"space-between\",\r\n                      }}\r\n                    >\r\n                      <Typography>{effect.source}</Typography>\r\n                      <Typography style={{ marginLeft: \"1rem\" }}>\r\n                        {getStringNumber(parseInt(effect.value))}\r\n                      </Typography>\r\n                    </div>\r\n                  ))}\r\n                </>\r\n              ) : null}\r\n            </div>\r\n          </Popover>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import React, { useContext, useState } from \"react\";\r\nimport AppContext from \"../context/AppContext\";\r\nimport Ability from \"./Ability\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\n\r\nconst Abilities = (props) => {\r\n  const [edit, setEdit] = useState(false);\r\n  const context = useContext(AppContext);\r\n  const { state, dispatch } = context;\r\n  const { activeCharacterIndex, characters } = state;\r\n  const { abilities } = characters[activeCharacterIndex];\r\n\r\n  const toggleEdit = () => {\r\n    setEdit(!edit);\r\n  };\r\n\r\n  const onChange = (path, value) => {\r\n    dispatch({\r\n      type: \"set_ability_score\",\r\n      payload: { key: `characters[${activeCharacterIndex}].${path}`, value },\r\n    });\r\n    dispatch({ type: \"save_data\" });\r\n  };\r\n\r\n  const renderAbility = (key) => {\r\n    return (\r\n      <Ability\r\n        edit={edit}\r\n        effects={abilities[key].effects}\r\n        name={key}\r\n        base={abilities[key].score}\r\n        modifier={abilities[key].modifier}\r\n        setAbilityScore={(value) => onChange(`abilities.${key}`, value)}\r\n      />\r\n    );\r\n  };\r\n\r\n  return (\r\n    <section>\r\n      <header\r\n        style={{\r\n          alignItems: \"center\",\r\n          display: \"flex\",\r\n          justifyContent: \"space-between\",\r\n        }}\r\n      >\r\n        <h1>Ability Scores</h1>\r\n        <IconButton onClick={toggleEdit}>\r\n          <EditIcon />\r\n        </IconButton>\r\n      </header>\r\n      <div style={{ display: \"flex\" }}>\r\n        {renderAbility(\"strength\")}\r\n        {renderAbility(\"dexterity\")}\r\n        {renderAbility(\"constitution\")}\r\n        {renderAbility(\"intelligence\")}\r\n        {renderAbility(\"wisdom\")}\r\n        {renderAbility(\"charisma\")}\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Abilities;\r\n","import React, { useContext, useState } from \"react\";\r\nimport AppContext from \"../context/AppContext\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nexport default function Character({ handleChange }) {\r\n  const [edit, setEdit] = useState(false);\r\n  const context = useContext(AppContext);\r\n  const { state } = context;\r\n  const { activeCharacterIndex, characters } = state;\r\n  const { name, baseAttackBonus } = characters[activeCharacterIndex];\r\n\r\n  return (\r\n    <section className=\"character\">\r\n      <header\r\n        style={{\r\n          alignItems: \"center\",\r\n          display: \"flex\",\r\n          justifyContent: \"space-between\",\r\n        }}\r\n      >\r\n        {!edit && <h1>{name}</h1>}\r\n        {edit && (\r\n          <TextField\r\n            label=\"Name\"\r\n            onChange={(e) => handleChange(\"name\", e.target.value)}\r\n            style={{ fontWeight: \"bold\" }}\r\n            value={name}\r\n          />\r\n        )}\r\n        <IconButton onClick={() => setEdit(!edit)}>\r\n          <EditIcon />\r\n        </IconButton>\r\n      </header>\r\n\r\n      {edit && (\r\n        <TextField\r\n          label=\"Base Attack Bonus\"\r\n          onChange={(e) =>\r\n            handleChange(\"baseAttackBonus\", parseInt(e.target.value))\r\n          }\r\n          type=\"number\"\r\n          value={baseAttackBonus}\r\n        />\r\n      )}\r\n    </section>\r\n  );\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport AppContext from \"../../context/AppContext\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nconst Bonus = ({ bonus, handleChange, identifier, index }) => {\r\n  const context = useContext(AppContext);\r\n  const { dispatch, state } = context;\r\n  const { activeCharacterIndex } = state;\r\n\r\n  const handleDelete = () => {\r\n    dispatch({\r\n      type: \"delete_item\",\r\n      payload: {\r\n        key: `characters[${activeCharacterIndex}].${identifier}`,\r\n        value: index,\r\n      },\r\n    });\r\n    dispatch({ type: \"save_data\" });\r\n  };\r\n  return (\r\n    <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\r\n      <TextField\r\n        label=\"Source\"\r\n        onChange={(e) =>\r\n          handleChange(`${identifier}[${index}].source`, e.target.value)\r\n        }\r\n        value={bonus.source}\r\n      />\r\n      <TextField\r\n        label=\"Value\"\r\n        onChange={(e) =>\r\n          handleChange(\r\n            `${identifier}[${index}].value`,\r\n            parseInt(e.target.value),\r\n          )\r\n        }\r\n        type=\"number\"\r\n        value={bonus.value}\r\n      />\r\n      <IconButton onClick={handleDelete}>\r\n        <CloseIcon />\r\n      </IconButton>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Bonus;\r\n","import React, { useContext } from \"react\";\r\nimport AppContext from \"../../context/AppContext\";\r\nimport Bonus from \"./Bonus\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nconst abilityNames = [\r\n  \"Strength\",\r\n  \"Dexterity\",\r\n  \"Constitution\",\r\n  \"Intelligence\",\r\n  \"Wisdom\",\r\n  \"Charisma\",\r\n];\r\n\r\nconst damageDice = [\r\n  \"1\",\r\n  \"1d2\",\r\n  \"1d3\",\r\n  \"1d4\",\r\n  \"1d6\",\r\n  \"1d8\",\r\n  \"1d10\",\r\n  \"1d12\",\r\n  \"2d6\",\r\n  \"2d8\",\r\n  \"3d6\",\r\n  \"3d8\",\r\n  \"4d6\",\r\n];\r\n\r\nconst EditWeapon = ({ identifier, index, handleChange, weapon }) => {\r\n  const context = useContext(AppContext);\r\n  const { dispatch, state } = context;\r\n  const { activeCharacterIndex } = state;\r\n\r\n  const emptyBonus = {\r\n    source: \"\",\r\n    value: 0,\r\n  };\r\n\r\n  const addItem = (path) => {\r\n    dispatch({\r\n      type: \"add_item\",\r\n      payload: {\r\n        key: `characters[${activeCharacterIndex}].${path}`,\r\n        value: emptyBonus,\r\n      },\r\n    });\r\n    dispatch({ type: \"save_data\" });\r\n  };\r\n\r\n  const deleteWeapon = () => {\r\n    dispatch({\r\n      type: \"delete_item\",\r\n      payload: {\r\n        key: `characters[${activeCharacterIndex}].weapons`,\r\n        value: index,\r\n      },\r\n    });\r\n    dispatch({ type: \"save_data\" });\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"grid\",\r\n        gridTemplateColumns: \"1fr 1fr\",\r\n      }}\r\n    >\r\n      <div style={{ margin: \"1rem\" }}>\r\n        <TextField\r\n          fullWidth\r\n          label=\"Attack Ability\"\r\n          select\r\n          onChange={(e) =>\r\n            handleChange(`${identifier}.attackAbility`, e.target.value)\r\n          }\r\n          value={weapon.attackAbility}\r\n        >\r\n          {abilityNames.map((ability) => (\r\n            <MenuItem key={ability} value={ability}>\r\n              {ability}\r\n            </MenuItem>\r\n          ))}\r\n        </TextField>\r\n        <h5>Attack Bonuses</h5>\r\n        {weapon.attackBonus.map((bonus, attackBonusIndex) => (\r\n          <Bonus\r\n            bonus={bonus}\r\n            handleChange={handleChange}\r\n            identifier={`${identifier}.attackBonus`}\r\n            index={attackBonusIndex}\r\n          />\r\n        ))}\r\n        <Button\r\n          onClick={() => addItem(`${identifier}.attackBonus`)}\r\n          style={{ marginTop: \"1rem\" }}\r\n          variant=\"contained\"\r\n        >\r\n          Add Bonus\r\n        </Button>\r\n      </div>\r\n      <div style={{ margin: \"1rem\" }}>\r\n        <TextField\r\n          fullWidth\r\n          label=\"Damage Die\"\r\n          select\r\n          onChange={(e) =>\r\n            handleChange(`${identifier}.damageDie`, e.target.value)\r\n          }\r\n          value={weapon.damageDie}\r\n        >\r\n          {damageDice.map((dice) => (\r\n            <MenuItem key={dice} value={dice}>\r\n              {dice}\r\n            </MenuItem>\r\n          ))}\r\n        </TextField>\r\n        <TextField\r\n          fullWidth\r\n          label=\"Damage Ability\"\r\n          select\r\n          onChange={(e) =>\r\n            handleChange(`${identifier}.damageAbility`, e.target.value)\r\n          }\r\n          value={weapon.damageAbility}\r\n        >\r\n          {abilityNames.map((ability) => (\r\n            <MenuItem key={ability} value={ability}>\r\n              {ability}\r\n            </MenuItem>\r\n          ))}\r\n        </TextField>\r\n        <TextField\r\n          fullWidth\r\n          label=\"Extra Damage Name\"\r\n          onChange={(e) =>\r\n            handleChange(`${identifier}.extraDamage.name`, e.target.value)\r\n          }\r\n          value={weapon.extraDamage.name}\r\n        />\r\n        <TextField\r\n          fullWidth\r\n          label=\"Extra Damage Value\"\r\n          onChange={(e) =>\r\n            handleChange(`${identifier}.extraDamage.value`, e.target.value)\r\n          }\r\n          value={weapon.extraDamage.value}\r\n        />\r\n        <h5>Damage Bonuses</h5>\r\n        {weapon.damageBonus.map((bonus, damageBonusIndex) => (\r\n          <Bonus\r\n            bonus={bonus}\r\n            handleChange={handleChange}\r\n            identifier={`${identifier}.damageBonus`}\r\n            index={damageBonusIndex}\r\n          />\r\n        ))}\r\n        <Button\r\n          onClick={() => addItem(`${identifier}.damageBonus`)}\r\n          style={{ marginTop: \"1rem\" }}\r\n          variant=\"contained\"\r\n        >\r\n          Add Bonus\r\n        </Button>\r\n      </div>\r\n      <Button\r\n        color=\"secondary\"\r\n        onClick={deleteWeapon}\r\n        style={{ gridColumn: 2, justifySelf: \"flex-end\" }}\r\n        variant=\"contained\"\r\n      >\r\n        Delete\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditWeapon;\r\n","import React from \"react\";\r\nimport Popover from \"@material-ui/core/Popover\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { hasModifier, getStringNumber } from \"../utils\";\r\n\r\nconst Stat = (props) => {\r\n  const { label, value, modifiers } = props;\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const open = Boolean(anchorEl);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"stat\" onClick={handleClick}>\r\n        <div>\r\n          <header style={{ textAlign: \"center\" }}>{label}</header>\r\n          <div style={{ fontWeight: \"bold\", textAlign: \"center\" }}>{value}</div>\r\n        </div>\r\n      </div>\r\n      {hasModifier(modifiers) ? (\r\n        <Popover\r\n          open={open}\r\n          anchorEl={anchorEl}\r\n          onClose={handleClose}\r\n          anchorOrigin={{\r\n            vertical: \"bottom\",\r\n            horizontal: \"center\",\r\n          }}\r\n          transformOrigin={{\r\n            vertical: \"top\",\r\n            horizontal: \"center\",\r\n          }}\r\n        >\r\n          <div style={{ padding: \"1rem\" }}>\r\n            {hasModifier(modifiers) ? (\r\n              <>\r\n                {modifiers.map((mod) => (\r\n                  <div\r\n                    key={mod.label}\r\n                    style={{ display: \"flex\", justifyContent: \"space-between\" }}\r\n                  >\r\n                    <Typography>{mod.source}</Typography>\r\n                    <Typography style={{ marginLeft: \"1rem\" }}>\r\n                      {getStringNumber(mod.value)}\r\n                    </Typography>\r\n                  </div>\r\n                ))}\r\n              </>\r\n            ) : null}\r\n          </div>\r\n        </Popover>\r\n      ) : null}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Stat;\r\n","import React from \"react\";\r\nimport Stat from \"./Stat\";\r\nimport { getStringNumber } from \"../utils\";\r\n\r\nconst compare = (a, b) => {\r\n  let comparison = 0;\r\n  if (a.value > b.value) {\r\n    comparison = -1;\r\n  } else if (a.value < b.value) {\r\n    comparison = 1;\r\n  }\r\n  return comparison;\r\n};\r\n\r\nexport default function Sum(props) {\r\n  const { label, modifiers } = props;\r\n\r\n  const sum = modifiers.reduce((a, b) => a + (b[\"value\"] || 0), 0);\r\n\r\n  return (\r\n    <Stat\r\n      label={label}\r\n      value={getStringNumber(sum)}\r\n      modifiers={modifiers.sort(compare)}\r\n    />\r\n  );\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport AppContext from \"../../context/AppContext\";\r\nimport EditWeapon from \"./EditWeapon\";\r\nimport Stat from \"../Stat\";\r\nimport Sum from \"../Sum\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nconst Weapon = (props) => {\r\n  const context = useContext(AppContext);\r\n  const { state, dispatch } = context;\r\n  const { characters, activeCharacterIndex } = state;\r\n  const { abilities, baseAttackBonus } = characters[activeCharacterIndex];\r\n  const { index, handleChange, weapon } = props;\r\n\r\n  const identifier = `weapons[${index}]`;\r\n\r\n  const attackBonusArray = () => {\r\n    return [\r\n      {\r\n        source: \"Base Attack Bonus\",\r\n        value: baseAttackBonus,\r\n      },\r\n      {\r\n        source: weapon.attackAbility,\r\n        value: abilities[weapon.attackAbility.toLowerCase()].modifier,\r\n      },\r\n    ].concat(weapon.attackBonus);\r\n  };\r\n\r\n  const damageBonusArray = () => {\r\n    return [\r\n      {\r\n        source: weapon.damageAbility,\r\n        value: abilities[weapon.damageAbility.toLowerCase()].modifier,\r\n      },\r\n    ].concat(weapon.damageBonus);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        border: \"1px solid lightgray\",\r\n        padding: \"1rem\",\r\n        marginBottom: \"1rem\",\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          alignItems: \"center\",\r\n          display: \"flex\",\r\n          justifyContent: \"space-between\",\r\n        }}\r\n      >\r\n        <div style={{ display: \"flex\", flexDirection: \"column\", width: \"50%\" }}>\r\n          {!weapon.edit ? (\r\n            <>\r\n              <strong>{weapon.name}</strong>\r\n              {weapon.criticalRange && (\r\n                <em style={{ fontSize: \"12px\" }}>\r\n                  Critical Range: {weapon.criticalRange}\r\n                </em>\r\n              )}\r\n            </>\r\n          ) : (\r\n            <>\r\n              <TextField\r\n                label=\"Weapon Name\"\r\n                onChange={(e) =>\r\n                  handleChange(`${identifier}.name`, e.target.value)\r\n                }\r\n                style={{ fontWeight: \"bold\" }}\r\n                value={weapon.name}\r\n              />\r\n              <TextField\r\n                label=\"Critical Range\"\r\n                placeholder=\"x2\"\r\n                onChange={(e) =>\r\n                  handleChange(`${identifier}.criticalRange`, e.target.value)\r\n                }\r\n                value={weapon.criticalRange}\r\n              />\r\n            </>\r\n          )}\r\n        </div>\r\n        <IconButton\r\n          onClick={(e) => handleChange(`${identifier}.edit`, !weapon.edit)}\r\n        >\r\n          <EditIcon />\r\n        </IconButton>\r\n      </div>\r\n      <div\r\n        style={{\r\n          display: \"grid\",\r\n          gridTemplateColumns: \"1fr 1fr 1fr 1fr\",\r\n          marginTop: \"1rem\",\r\n        }}\r\n      >\r\n        <Sum label=\"Attack Bonus\" modifiers={attackBonusArray()} />\r\n        <Stat label=\"Damage Die\" value={weapon.damageDie} />\r\n        <Sum label=\"Damage Bonus\" modifiers={damageBonusArray()} />\r\n        {weapon.extraDamage.name && (\r\n          <Stat\r\n            label={weapon.extraDamage.name}\r\n            value={weapon.extraDamage.value}\r\n          />\r\n        )}\r\n      </div>\r\n      {weapon.edit && (\r\n        <EditWeapon\r\n          index={index}\r\n          handleChange={handleChange}\r\n          identifier={identifier}\r\n          weapon={weapon}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Weapon;\r\n","import React, { useContext } from \"react\";\r\nimport AppContext from \"../../context/AppContext\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Weapon from \"./Weapon\";\r\n\r\nconst Weapons = ({ handleChange }) => {\r\n  const context = useContext(AppContext);\r\n  const { state, dispatch } = context;\r\n  const { activeCharacterIndex, characters } = state;\r\n  const { weapons } = characters[activeCharacterIndex];\r\n\r\n  const newWeapon = {\r\n    name: \"New Weapon\",\r\n    attackBonus: [],\r\n    criticalRange: \"\",\r\n    damageBonus: [],\r\n    damageDie: \"1d4\",\r\n    extraDamage: { name: \"\", value: \"\" },\r\n    attackAbility: \"Strength\",\r\n    damageAbility: \"Strength\",\r\n    edit: false,\r\n  };\r\n\r\n  const addWeapon = () => {\r\n    dispatch({\r\n      type: \"add_item\",\r\n      payload: {\r\n        key: `characters[${activeCharacterIndex}].weapons`,\r\n        value: newWeapon,\r\n      },\r\n    });\r\n    dispatch({ type: \"save_data\" });\r\n  };\r\n\r\n  return (\r\n    <section>\r\n      <h2>Weapons</h2>\r\n      {weapons.map((weapon, index) => (\r\n        <Weapon index={index} handleChange={handleChange} weapon={weapon} />\r\n      ))}\r\n      <Button onClick={addWeapon}>Add Weapon</Button>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Weapons;\r\n","import React, { useContext, useState } from \"react\";\r\nimport AppContext from \"../context/AppContext\";\r\nimport Abilities from \"./Abilities\";\r\nimport Character from \"./Character\";\r\nimport Weapons from \"./Weapons/Weapons\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\n\r\nconst CharacterSheet = () => {\r\n  const context = useContext(AppContext);\r\n  const { dispatch, state } = context;\r\n  const { activeCharacterIndex, characters } = state;\r\n  const { name } = characters[activeCharacterIndex];\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleChange = (path, value) => {\r\n    dispatch({\r\n      type: \"on_input\",\r\n      payload: {\r\n        key: `characters[${activeCharacterIndex}].${path}`,\r\n        value,\r\n      },\r\n    });\r\n    dispatch({ type: \"save_data\" });\r\n  };\r\n\r\n  const handleDelete = () => {\r\n    handleClose();\r\n    dispatch({\r\n      type: \"on_input\",\r\n      payload: {\r\n        key: \"activeCharacterIndex\",\r\n        value: 0,\r\n      },\r\n    });\r\n    dispatch({\r\n      type: \"delete_item\",\r\n      payload: {\r\n        key: \"characters\",\r\n        value: activeCharacterIndex,\r\n      },\r\n    });\r\n    dispatch({ type: \"save_data\" });\r\n  };\r\n\r\n  return (\r\n    <main\r\n      style={{ display: \"flex\", flexDirection: \"column\", marginTop: \"4rem\" }}\r\n    >\r\n      <Character handleChange={handleChange} />\r\n      <Abilities />\r\n      <Weapons handleChange={handleChange} />\r\n      <Button onClick={handleOpen} style={{ marginLeft: \"auto\" }}>\r\n        Delete Character\r\n      </Button>\r\n      <Dialog fullWidth maxWidth=\"sm\" open={open} onClose={handleClose}>\r\n        <DialogContent>Are you sure you want to delete {name}?</DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose}>Cancel</Button>\r\n          <Button color=\"secondary\" onClick={handleDelete} variant=\"contained\">\r\n            Delete {name}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default CharacterSheet;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { Container } from \"@material-ui/core\";\r\nimport \"./App.css\";\r\nimport AppContext, { newCharacter } from \"./context/AppContext\";\r\nimport CharacterSheet from \"./components/CharacterSheet\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\n\r\nconst App = () => {\r\n  const context = useContext(AppContext);\r\n  const { state, dispatch } = context;\r\n  const { characters } = state;\r\n  const [tab, setTab] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const storedState = JSON.parse(localStorage.getItem(\"state\"));\r\n    dispatch({ type: \"import_data\", payload: storedState });\r\n  }, [dispatch]);\r\n\r\n  const addCharacter = () => {\r\n    dispatch({\r\n      type: \"add_item\",\r\n      payload: {\r\n        key: \"characters\",\r\n        value: newCharacter,\r\n      },\r\n    });\r\n    dispatch({ type: \"save_data\" });\r\n  };\r\n\r\n  const handleCharacteChange = (index) => {\r\n    setTab(index);\r\n    dispatch({\r\n      type: \"on_input\",\r\n      payload: {\r\n        key: \"activeCharacterIndex\",\r\n        value: index,\r\n      },\r\n    });\r\n    dispatch({ type: \"save_data\" });\r\n  };\r\n\r\n  return (\r\n    <Container className=\"App\">\r\n      <AppBar color=\"default\">\r\n        <Tabs value={tab}>\r\n          {characters.map((character, index) => (\r\n            <Tab\r\n              label={character.name}\r\n              onClick={() => handleCharacteChange(index)}\r\n            />\r\n          ))}\r\n          <IconButton onClick={addCharacter}>\r\n            <AddIcon />\r\n          </IconButton>\r\n        </Tabs>\r\n      </AppBar>\r\n      <CharacterSheet />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { AppProvider } from \"./context/AppContext\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <AppProvider>\n    <App />\n  </AppProvider>,\n  document.getElementById(\"root\"),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}