(this["webpackJsonpcharacter-sheet"]=this["webpackJsonpcharacter-sheet"]||[]).push([[0],{124:function(e,a,t){e.exports=t(224)},128:function(e,a,t){},129:function(e,a,t){},224:function(e,a,t){"use strict";t.r(a);var n={};t.r(n),t.d(n,"strength",(function(){return Q})),t.d(n,"dexterity",(function(){return X})),t.d(n,"constitution",(function(){return Y})),t.d(n,"intelligence",(function(){return ee})),t.d(n,"wisdom",(function(){return ae})),t.d(n,"charisma",(function(){return te}));var l=t(0),r=t.n(l),i=t(8),c=t.n(i),s=(t(128),t(111)),o=t(11),m=t(261),u=t(257),d=(t(129),t(20)),f=t(19),y=t(38),b=t.n(y),E=t(43),v=t.n(E),g=t(106),k=t.n(g);function p(e){return e>0?"+"+e:e.toString()}function h(e){return Math.floor((e-10)/2)}var x=function(e){return void 0!==e&&e.length>0},S={abilities:{strength:{score:10,modifier:0,effects:[]},dexterity:{score:10,modifier:0,effects:[]},constitution:{score:10,modifier:0,effects:[]},intelligence:{score:10,modifier:0,effects:[]},wisdom:{score:10,modifier:0,effects:[]},charisma:{score:10,modifier:0,effects:[]}},armorClass:0,character:{},characterClass:"Fighter",cmb:0,edit:!1,fortitude:0,initiative:0,inventory:[],modifiers:[],name:"My Character",race:"Human",reflex:0,skills:[{name:"Acrobatics",ability:"dexterity",classSkill:!1,ranks:0},{name:"Appraise",ability:"intelligence",classSkill:!1,ranks:0},{name:"Bluff",ability:"charisma",classSkill:!1,ranks:0},{name:"Climb",ability:"strength",classSkill:!1,ranks:0},{name:"Craft",ability:"intelligence",classSkill:!1,ranks:0},{name:"Diplomacy",ability:"charisma",classSkill:!1,ranks:0},{name:"Disable Device",ability:"dexterity",classSkill:!1,ranks:0},{name:"Disguise",ability:"charisma",classSkill:!1,ranks:0},{name:"Escape Artist",ability:"dexterity",classSkill:!1,ranks:0},{name:"Fly",ability:"dexterity",classSkill:!1,ranks:0},{name:"Handle Animal",ability:"charisma",classSkill:!1,ranks:0},{name:"Heal",ability:"wisdom",classSkill:!1,ranks:0},{name:"Intimidate",ability:"charisma",classSkill:!1,ranks:0},{name:"Knowledge (Arcana)",ability:"intelligence",classSkill:!1,ranks:0},{name:"Knowledge (Dungeoneering)",ability:"intelligence",classSkill:!1,ranks:0},{name:"Knowledge (Engineering)",ability:"intelligence",classSkill:!1,ranks:0},{name:"Knowledge (Geography)",ability:"intelligence",classSkill:!1,ranks:0},{name:"Knowledge (History)",ability:"intelligence",classSkill:!1,ranks:0},{name:"Knowledge (Nature)",ability:"intelligence",classSkill:!1,ranks:0},{name:"Knowledge (Nobility)",ability:"intelligence",classSkill:!1,ranks:0},{name:"Knowledge (Planes)",ability:"intelligence",classSkill:!1,ranks:0},{name:"Knowledge (Religion)",ability:"intelligence",classSkill:!1,ranks:0},{name:"Linguistics",ability:"intelligence",classSkill:!1,ranks:0},{name:"Perception",ability:"wisdom",classSkill:!1,ranks:0},{name:"Perform",ability:"charisma",classSkill:!1,ranks:0},{name:"Profession",ability:"wisdom",classSkill:!1,ranks:0},{name:"Ride",ability:"dexterity",classSkill:!1,ranks:0},{name:"Sense Motive",ability:"wisdom",classSkill:!1,ranks:0},{name:"Sleight of Hand",ability:"dexterity",classSkill:!1,ranks:0},{name:"Spellcraft",ability:"intelligence",classSkill:!1,ranks:0},{name:"Stealth",ability:"dexterity",classSkill:!1,ranks:0},{name:"Survival",ability:"wisdom",classSkill:!1,ranks:0},{name:"Swim",ability:"strength",classSkill:!1,ranks:0},{name:"Use Magic Device",ability:"charisma",classSkill:!1,ranks:0}],skillFilter:null,speed:30,will:0},C=function(e,a,t,n){var l=b()(Object(f.a)({},e),a),r=l.score,i=l.effects;null===t&&(t=r),n&&i.push(n);var c=i?parseInt(t)+i.reduce((function(e,a){return e+parseInt(a.value)}),0):parseInt(t);return v()(Object(f.a)({},e),a,{score:t,modifier:h(c),effects:i})},w=function(e,a){var t,n,l=a.type,r=a.payload;switch(l){case"on_input":return v()(Object(f.a)({},e),r.key,r.value);case"add_item":return(t=b()(Object(f.a)({},e),"inventory",[])).push(r.value),r.value.effects&&r.value.effects.map((function(a){C(e,"abilities.".concat(a.target),null,a)})),v()(Object(f.a)({},e),"inventory",t);case"delete_item":return t=b()(Object(f.a)({},e),"inventory",[]),k()(t,(function(e){return e.name===r.key})),v()(Object(f.a)({},e),"inventory",t);case"set_ability_score":return C(e,r.key,r.value);case"edit_skill":return(n=b()(Object(f.a)({},e),"skills",[]))[r.key].ranks=r.value,v()(Object(f.a)({},e),"skills",n);case"save_data":return localStorage.setItem("state",JSON.stringify(e)),e;case"import_data":return null===r?S:Object(f.a)({},e,{},r,{edit:!1});default:return e}},O=Object(l.createContext)(S),j=O.Provider,A=function(e){var a=e.children,t=Object(l.useReducer)(w,S),n=Object(d.a)(t,2),i=n[0],c=n[1];return r.a.createElement(j,{value:{state:i,dispatch:c}},a)},D=(O.Consumer,O),B=t(265),I=t(226),N=t(251),F=t(61),_=t.n(F),W=t(60),T=t.n(W);function R(e){var a=e.base,t=e.edit,n=e.effects,l=e.name,i=e.modifier,c=e.setAbilityScore,s=r.a.useState(null),o=Object(d.a)(s,2),m=o[0],u=o[1],f=function(e){t||u(e.currentTarget)},y=Boolean(m);return r.a.createElement(r.a.Fragment,null,t?r.a.createElement("div",{className:"stat",onClick:f,style:{display:"flex",flexDirection:"column"}},r.a.createElement("header",{style:{textAlign:"center",textTransform:"capitalize"}},l),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(N.a,{onClick:function(){a>0&&c(a-1)},size:"small"},r.a.createElement(T.a,null)),r.a.createElement("div",{style:{fontWeight:"bold",textAlign:"center"}},a),r.a.createElement(N.a,{onClick:function(){c(a+1)},size:"small"},r.a.createElement(_.a,null)))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"stat",onClick:f},r.a.createElement("div",null,r.a.createElement("header",{style:{textAlign:"center",textTransform:"capitalize"}},l),r.a.createElement("div",{style:{fontWeight:"bold",textAlign:"center"}},t?a:p(i)))),r.a.createElement(B.a,{open:y,anchorEl:m,onClose:function(){u(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},disableRestoreFocus:!0},r.a.createElement("div",{style:{padding:"1rem"}},r.a.createElement("div",{key:"base",style:{display:"flex",justifyContent:"space-between"}},r.a.createElement(I.a,null,"Base"),r.a.createElement(I.a,{style:{marginLeft:"1rem"}},a)),n.length>0?r.a.createElement(r.a.Fragment,null,n.map((function(e){return r.a.createElement("div",{key:e.source,style:{display:"flex",justifyContent:"space-between"}},r.a.createElement(I.a,null,e.source),r.a.createElement(I.a,{style:{marginLeft:"1rem"}},p(parseInt(e.value))))}))):null))))}var z=function(e){var a=Object(l.useContext)(D),t=a.state,n=a.dispatch,i=t.abilities,c=t.edit,s=function(e){return r.a.createElement(R,{edit:c,effects:i[e].effects,name:e,base:i[e].score,modifier:i[e].modifier,setAbilityScore:function(a){return function(e,a){n({type:"set_ability_score",payload:{key:e,value:a}}),n({type:"save_data"})}("abilities.".concat(e),a)}})};return r.a.createElement("section",null,r.a.createElement("h1",null,"Ability Scores"),r.a.createElement("div",{style:{display:"flex"}},s("strength"),s("dexterity"),s("constitution"),s("intelligence"),s("wisdom"),s("charisma")))};function H(){var e=Object(l.useContext)(D).state,a=e.name,t=e.race,n=e.characterClass;return r.a.createElement("section",{className:"character"},r.a.createElement("span",null,a,", ",t," ",n))}var K=function(e){var a=e.label,t=e.value,n=e.modifiers,l=r.a.useState(null),i=Object(d.a)(l,2),c=i[0],s=i[1],o=Boolean(c);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"stat",onClick:function(e){s(e.currentTarget)}},r.a.createElement("div",null,r.a.createElement("header",{style:{textAlign:"center"}},a),r.a.createElement("div",{style:{fontWeight:"bold",textAlign:"center"}},t))),x(n)?r.a.createElement(B.a,{open:o,anchorEl:c,onClose:function(){s(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement("div",{style:{padding:"1rem"}},x(n)?r.a.createElement(r.a.Fragment,null,n.map((function(e){return r.a.createElement("div",{key:e.source,style:{display:"flex",justifyContent:"space-between"}},r.a.createElement(I.a,null,e.label),r.a.createElement(I.a,{style:{marginLeft:"1rem"}},e.value))}))):null)):null)},P=function(){var e=Object(l.useContext)(D).state,a=e.armorClass,t=e.fortitude,n=e.reflex,i=e.will;return r.a.createElement("section",{className:"defense"},r.a.createElement("h1",null,"Defense"),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(K,{label:"Armor Class",value:a}),r.a.createElement(K,{label:"Touch AC",value:"14"}),r.a.createElement(K,{label:"Flat-Footed",value:"10"})),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(K,{label:"Fortitude",value:t}),r.a.createElement(K,{label:"Reflex",value:n}),r.a.createElement(K,{label:"Will",value:i})))},L=t(262),M=t(264),V=t(255),J=t(256),G=t(266),U=t(258),Z=t(110),$=t.n(Z),q=t(23),Q={key:"strength",label:"Strength"},X={key:"dexterity",label:"Dexterity"},Y={key:"constitution",label:"Constitution"},ee={key:"intelligence",label:"Intelligence"},ae={key:"wisdom",label:"Wisdom"},te={key:"charisma",label:"Charisma"},ne=["Accessory","Armor","Consumable","Tool","Weapon"];function le(e){var a=e.onAdd,t=e.onDelete,l=e.handleClose,i=e.open,c=e.initialValues,s=e.effects,o=e.title,m=s.filter((function(e){return e.source===o}));c.effects=m;return r.a.createElement("div",null,r.a.createElement(M.a,{fullWidth:!0,open:i,onClose:l,size:"xs"},r.a.createElement(V.a,null,o),r.a.createElement(q.d,{initialValues:c,onSubmit:function(e){l(),a("inventory.".concat(e.name),Object(f.a)({},e))}},(function(e){var a=e.values;e.isSubmitting;return r.a.createElement(q.c,null,r.a.createElement(J.a,null,r.a.createElement(q.a,{as:L.a,autoFocus:!0,fullWidth:!0,name:"name",label:"Name"}),r.a.createElement(q.a,{as:L.a,fullWidth:!0,name:"type",label:"Item Type",select:!0},ne.map((function(e){return r.a.createElement(G.a,{key:e,value:e},e)}))),"Armor"===a.type?r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{as:L.a,fullWidth:!0,label:"Armor Bonus",name:"armorBonus",type:"number"}),r.a.createElement(q.a,{as:L.a,fullWidth:!0,label:"Maximum Dexterity Bonus",name:"maxDexBonus",type:"number"}),r.a.createElement(q.a,{as:L.a,fullWidth:!0,label:"Arcane Spell Failure Chance",name:"spellFailure",type:"number"})):null,r.a.createElement(I.a,{style:{marginTop:"32px"},variant:"h6"},"Effects"),r.a.createElement(q.b,{name:"effects",render:function(e){e.insert;var t=e.remove,l=e.push;return r.a.createElement("div",null,a.effects.length>0&&a.effects.map((function(e,a){return r.a.createElement("div",{style:{alignItems:"baseline",display:"flex",justifyContent:"space-between"},key:a},r.a.createElement(q.a,{as:L.a,name:"effects.".concat(a,".target"),label:"Effect Target",select:!0,style:{width:"33%"}},Object.values(n).map((function(e){return r.a.createElement(G.a,{key:e.key,value:e.key},e.label)}))),r.a.createElement(q.a,{as:L.a,label:"Effect Value",name:"effects.".concat(a,".value"),type:"number"}),r.a.createElement(N.a,{type:"button",className:"secondary",onClick:function(){return t(a)}},r.a.createElement($.a,null)))})),r.a.createElement(u.a,{type:"button",className:"secondary",onClick:function(){return l({target:"",value:"",source:a.name})}},"Add Effect"))}})),r.a.createElement(U.a,null,t?r.a.createElement(u.a,{onClick:t},"Delete"):null,r.a.createElement(u.a,{type:"submit"},"Save")))}))))}var re=t(259);function ie(e){var a=e.onAdd,t=e.onDelete,n=e.item,l=e.effects,i=r.a.useState(!1),c=Object(d.a)(i,2),s=c[0],o=c[1];return r.a.createElement("div",null,r.a.createElement(re.a,{className:"stat",variant:"outlined",onClick:function(){o(!0)}},r.a.createElement("span",null,n.name)),r.a.createElement(le,{initialValues:n,handleClose:function(){o(!1)},open:s,onAdd:a,onDelete:function(){t(n.name,n)},effects:l,title:n.name}))}var ce={name:"",type:"",armorBonus:"",maxDexBonus:"",spellFailure:"",effects:[]};function se(e){var a=Object(l.useContext)(D),t=a.state,n=a.dispatch,i=t.inventory,c=Object(l.useState)(!1),s=Object(d.a)(c,2),o=s[0],m=s[1],f=function(){m(!1)},y=function(){m(!0)},b=function(e,a){n({type:"add_item",payload:{key:e,value:a}}),n({type:"save_data"})},E=function(e,a){n({type:"delete_item",payload:{key:e,value:a}}),n({type:"save_data"})};return r.a.createElement("section",{className:"inventory"},r.a.createElement("h1",null,"Inventory"),r.a.createElement("div",{style:{display:"flex"}},i.sort().map((function(e){return r.a.createElement(ie,{key:e.name,handleClose:f,onDelete:E,onAdd:b,item:e,effects:e.effects})}))),r.a.createElement(u.a,{onClick:y},"Add New Item"),r.a.createElement(le,{initialValues:ce,onAdd:b,open:o,handleOpen:y,handleClose:f,effects:[],title:"New Item"}))}var oe=function(e){var a=e.name,t=e.attacks,n=(e.attackBonus,e.damage,e.criticalRange);e.range;return r.a.createElement("div",{style:{border:"1px solid lightgray",padding:"1rem",marginBottom:"1rem"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("h4",null,a),r.a.createElement(K,{label:"Critical Range",value:n})),r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},t.map((function(e){return r.a.createElement("div",{style:{alignItems:"center",display:"flex",justifyContent:"space-between"}},r.a.createElement("span",null,e.name),r.a.createElement(K,{label:"Attack Bonus",value:p(e.bonus)}),r.a.createElement(K,{label:"Damage",value:e.damage}),e.range&&r.a.createElement(K,{label:"Range",value:null===e||void 0===e?void 0:e.range}))}))))};function me(){var e=Object(l.useContext)(D).state,a=e.initiative,t=e.speed,n=e.cmb;return r.a.createElement("section",{className:"offense"},r.a.createElement("h1",null,"Offense"),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(K,{label:"Initiative",value:a}),r.a.createElement(K,{label:"Speed",value:t}),r.a.createElement(K,{label:"CMB",value:n})))}var ue=t(260),de=t(267),fe=function(){var e=Object(l.useState)(6),a=Object(d.a)(e,2),t=a[0],n=a[1];return r.a.createElement(m.a,null,r.a.createElement("h1",null,"Isi"),r.a.createElement(de.a,{exclusive:!0,onChange:function(e,a){n(a)},style:{paddingBottom:"1rem"},value:t},r.a.createElement(ue.a,{value:6},"1st Attack"),r.a.createElement(ue.a,{value:1},"2nd Attack")),r.a.createElement(oe,{name:"Holy Longsword +2",attacks:[{name:"One Handed",bonus:t+7,damage:"2d8 + 5"},{name:"Two Handed",bonus:t+7,damage:"2d8 + 7"},{name:"Power Attack",bonus:t+5,damage:"2d8 + 11"},{name:"Two Handed Power Attack",bonus:t+5,damage:"2d8 + 13"}],criticalRange:"19-20/x2"}),r.a.createElement(oe,{name:"Holy Shield +2",criticalRange:"x2",attacks:[{name:"Throw",bonus:t-2,damage:"1d6 + 2",range:"20 ft."}]}))},ye=function(){return r.a.createElement(m.a,null,r.a.createElement("h1",null,"Zara"),r.a.createElement(oe,{name:"Light Crossbow",criticalRange:"19-20/x2",attacks:[{name:"Shoot",bonus:5,damage:"1d8",range:"80 ft."}]}),r.a.createElement(oe,{name:"Dagger (Borrowed from Ash)",criticalRange:"19-20/x2",attacks:[{name:"Attack",bonus:0,damage:"1d4"},{name:"Throw",bonus:0,damage:"1d4",range:"10 ft."}],attackBonus:"+0",damage:"1d4"}))},be=function(){var e=Object(l.useContext)(D),a=e.state,t=e.dispatch,n=a.edit;Object(l.useEffect)((function(){var e=JSON.parse(localStorage.getItem("state"));t({type:"import_data",payload:e})}),[t]);return r.a.createElement(s.a,{basename:"/character-sheet"},r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/"},r.a.createElement(m.a,{className:"App"},r.a.createElement("main",null,r.a.createElement("header",{style:{display:"flex",alignItems:"baseline",justifyContent:"space-between"}},r.a.createElement("h1",null,"Character Sheet"),r.a.createElement(u.a,{onClick:function(){t({type:"on_input",payload:{key:"edit",value:!n}})},style:{height:"auto"}},n?"View Character":"Edit Character")),r.a.createElement("div",null,r.a.createElement(H,null),r.a.createElement(z,null),r.a.createElement(P,null),r.a.createElement(me,null),r.a.createElement(se,null))))),r.a.createElement(o.a,{path:"/isi"},r.a.createElement(fe,null)),r.a.createElement(o.a,{path:"/zara"},r.a.createElement(ye,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(A,null,r.a.createElement(be,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[124,1,2]]]);
//# sourceMappingURL=main.a109ec46.chunk.js.map