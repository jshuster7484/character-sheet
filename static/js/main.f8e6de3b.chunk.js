(this["webpackJsonpcharacter-sheet"]=this["webpackJsonpcharacter-sheet"]||[]).push([[0],{124:function(e,a,t){e.exports=t(224)},128:function(e,a,t){},129:function(e,a,t){},224:function(e,a,t){"use strict";t.r(a);var n={};t.r(n),t.d(n,"strength",(function(){return q})),t.d(n,"dexterity",(function(){return Q})),t.d(n,"constitution",(function(){return X})),t.d(n,"intelligence",(function(){return Y})),t.d(n,"wisdom",(function(){return ee})),t.d(n,"charisma",(function(){return ae}));var l=t(0),r=t.n(l),i=t(8),c=t.n(i),s=(t(128),t(11)),o=t(261),m=t(257),u=(t(129),t(20)),d=t(19),f=t(38),y=t.n(f),b=t(43),E=t.n(b),v=t(107),g=t.n(v);function k(e){return e>0?"+"+e:e.toString()}function p(e){return Math.floor((e-10)/2)}var h=function(e){return void 0!==e&&e.length>0},x={abilities:{strength:{score:10,modifier:0,effects:[]},dexterity:{score:10,modifier:0,effects:[]},constitution:{score:10,modifier:0,effects:[]},intelligence:{score:10,modifier:0,effects:[]},wisdom:{score:10,modifier:0,effects:[]},charisma:{score:10,modifier:0,effects:[]}},armorClass:0,character:{},characterClass:"Fighter",cmb:0,edit:!1,fortitude:0,initiative:0,inventory:[],modifiers:[],name:"My Character",race:"Human",reflex:0,skills:[{name:"Acrobatics",ability:"dexterity",classSkill:!1,ranks:0},{name:"Appraise",ability:"intelligence",classSkill:!1,ranks:0},{name:"Bluff",ability:"charisma",classSkill:!1,ranks:0},{name:"Climb",ability:"strength",classSkill:!1,ranks:0},{name:"Craft",ability:"intelligence",classSkill:!1,ranks:0},{name:"Diplomacy",ability:"charisma",classSkill:!1,ranks:0},{name:"Disable Device",ability:"dexterity",classSkill:!1,ranks:0},{name:"Disguise",ability:"charisma",classSkill:!1,ranks:0},{name:"Escape Artist",ability:"dexterity",classSkill:!1,ranks:0},{name:"Fly",ability:"dexterity",classSkill:!1,ranks:0},{name:"Handle Animal",ability:"charisma",classSkill:!1,ranks:0},{name:"Heal",ability:"wisdom",classSkill:!1,ranks:0},{name:"Intimidate",ability:"charisma",classSkill:!1,ranks:0},{name:"Knowledge (Arcana)",ability:"intelligence",classSkill:!1,ranks:0},{name:"Knowledge (Dungeoneering)",ability:"intelligence",classSkill:!1,ranks:0},{name:"Knowledge (Engineering)",ability:"intelligence",classSkill:!1,ranks:0},{name:"Knowledge (Geography)",ability:"intelligence",classSkill:!1,ranks:0},{name:"Knowledge (History)",ability:"intelligence",classSkill:!1,ranks:0},{name:"Knowledge (Nature)",ability:"intelligence",classSkill:!1,ranks:0},{name:"Knowledge (Nobility)",ability:"intelligence",classSkill:!1,ranks:0},{name:"Knowledge (Planes)",ability:"intelligence",classSkill:!1,ranks:0},{name:"Knowledge (Religion)",ability:"intelligence",classSkill:!1,ranks:0},{name:"Linguistics",ability:"intelligence",classSkill:!1,ranks:0},{name:"Perception",ability:"wisdom",classSkill:!1,ranks:0},{name:"Perform",ability:"charisma",classSkill:!1,ranks:0},{name:"Profession",ability:"wisdom",classSkill:!1,ranks:0},{name:"Ride",ability:"dexterity",classSkill:!1,ranks:0},{name:"Sense Motive",ability:"wisdom",classSkill:!1,ranks:0},{name:"Sleight of Hand",ability:"dexterity",classSkill:!1,ranks:0},{name:"Spellcraft",ability:"intelligence",classSkill:!1,ranks:0},{name:"Stealth",ability:"dexterity",classSkill:!1,ranks:0},{name:"Survival",ability:"wisdom",classSkill:!1,ranks:0},{name:"Swim",ability:"strength",classSkill:!1,ranks:0},{name:"Use Magic Device",ability:"charisma",classSkill:!1,ranks:0}],skillFilter:null,speed:30,will:0},S=function(e,a,t,n){var l=y()(Object(d.a)({},e),a),r=l.score,i=l.effects;null===t&&(t=r),n&&i.push(n);var c=i?parseInt(t)+i.reduce((function(e,a){return e+parseInt(a.value)}),0):parseInt(t);return E()(Object(d.a)({},e),a,{score:t,modifier:p(c),effects:i})},C=function(e,a){var t,n,l=a.type,r=a.payload;switch(l){case"on_input":return E()(Object(d.a)({},e),r.key,r.value);case"add_item":return(t=y()(Object(d.a)({},e),"inventory",[])).push(r.value),r.value.effects&&r.value.effects.map((function(a){S(e,"abilities.".concat(a.target),null,a)})),E()(Object(d.a)({},e),"inventory",t);case"delete_item":return t=y()(Object(d.a)({},e),"inventory",[]),g()(t,(function(e){return e.name===r.key})),E()(Object(d.a)({},e),"inventory",t);case"set_ability_score":return S(e,r.key,r.value);case"edit_skill":return(n=y()(Object(d.a)({},e),"skills",[]))[r.key].ranks=r.value,E()(Object(d.a)({},e),"skills",n);case"save_data":return localStorage.setItem("state",JSON.stringify(e)),e;case"import_data":return null===r?x:Object(d.a)({},e,{},r,{edit:!1});default:return e}},w=Object(l.createContext)(x),O=w.Provider,j=function(e){var a=e.children,t=Object(l.useReducer)(C,x),n=Object(u.a)(t,2),i=n[0],c=n[1];return r.a.createElement(O,{value:{state:i,dispatch:c}},a)},A=(w.Consumer,w),D=t(265),B=t(226),I=t(251),N=t(61),F=t.n(N),_=t(60),W=t.n(_);function T(e){var a=e.base,t=e.edit,n=e.effects,l=e.name,i=e.modifier,c=e.setAbilityScore,s=r.a.useState(null),o=Object(u.a)(s,2),m=o[0],d=o[1],f=function(e){t||d(e.currentTarget)},y=Boolean(m);return r.a.createElement(r.a.Fragment,null,t?r.a.createElement("div",{className:"stat",onClick:f,style:{display:"flex",flexDirection:"column"}},r.a.createElement("header",{style:{textAlign:"center",textTransform:"capitalize"}},l),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(I.a,{onClick:function(){a>0&&c(a-1)},size:"small"},r.a.createElement(W.a,null)),r.a.createElement("div",{style:{fontWeight:"bold",textAlign:"center"}},a),r.a.createElement(I.a,{onClick:function(){c(a+1)},size:"small"},r.a.createElement(F.a,null)))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"stat",onClick:f},r.a.createElement("div",null,r.a.createElement("header",{style:{textAlign:"center",textTransform:"capitalize"}},l),r.a.createElement("div",{style:{fontWeight:"bold",textAlign:"center"}},t?a:k(i)))),r.a.createElement(D.a,{open:y,anchorEl:m,onClose:function(){d(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},disableRestoreFocus:!0},r.a.createElement("div",{style:{padding:"1rem"}},r.a.createElement("div",{key:"base",style:{display:"flex",justifyContent:"space-between"}},r.a.createElement(B.a,null,"Base"),r.a.createElement(B.a,{style:{marginLeft:"1rem"}},a)),n.length>0?r.a.createElement(r.a.Fragment,null,n.map((function(e){return r.a.createElement("div",{key:e.source,style:{display:"flex",justifyContent:"space-between"}},r.a.createElement(B.a,null,e.source),r.a.createElement(B.a,{style:{marginLeft:"1rem"}},k(parseInt(e.value))))}))):null))))}var R=function(e){var a=Object(l.useContext)(A),t=a.state,n=a.dispatch,i=t.abilities,c=t.edit,s=function(e){return r.a.createElement(T,{edit:c,effects:i[e].effects,name:e,base:i[e].score,modifier:i[e].modifier,setAbilityScore:function(a){return function(e,a){n({type:"set_ability_score",payload:{key:e,value:a}}),n({type:"save_data"})}("abilities.".concat(e),a)}})};return r.a.createElement("section",null,r.a.createElement("h1",null,"Ability Scores"),r.a.createElement("div",{style:{display:"flex"}},s("strength"),s("dexterity"),s("constitution"),s("intelligence"),s("wisdom"),s("charisma")))};function z(){var e=Object(l.useContext)(A).state,a=e.name,t=e.race,n=e.characterClass;return r.a.createElement("section",{className:"character"},r.a.createElement("span",null,a,", ",t," ",n))}var H=function(e){var a=e.label,t=e.value,n=e.modifiers,l=r.a.useState(null),i=Object(u.a)(l,2),c=i[0],s=i[1],o=Boolean(c);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"stat",onClick:function(e){s(e.currentTarget)}},r.a.createElement("div",null,r.a.createElement("header",{style:{textAlign:"center"}},a),r.a.createElement("div",{style:{fontWeight:"bold",textAlign:"center"}},t))),h(n)?r.a.createElement(D.a,{open:o,anchorEl:c,onClose:function(){s(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement("div",{style:{padding:"1rem"}},h(n)?r.a.createElement(r.a.Fragment,null,n.map((function(e){return r.a.createElement("div",{key:e.source,style:{display:"flex",justifyContent:"space-between"}},r.a.createElement(B.a,null,e.label),r.a.createElement(B.a,{style:{marginLeft:"1rem"}},e.value))}))):null)):null)},K=function(){var e=Object(l.useContext)(A).state,a=e.armorClass,t=e.fortitude,n=e.reflex,i=e.will;return r.a.createElement("section",{className:"defense"},r.a.createElement("h1",null,"Defense"),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(H,{label:"Armor Class",value:a}),r.a.createElement(H,{label:"Touch AC",value:"14"}),r.a.createElement(H,{label:"Flat-Footed",value:"10"})),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(H,{label:"Fortitude",value:t}),r.a.createElement(H,{label:"Reflex",value:n}),r.a.createElement(H,{label:"Will",value:i})))},P=t(262),L=t(264),M=t(255),V=t(256),J=t(266),G=t(258),U=t(111),Z=t.n(U),$=t(23),q={key:"strength",label:"Strength"},Q={key:"dexterity",label:"Dexterity"},X={key:"constitution",label:"Constitution"},Y={key:"intelligence",label:"Intelligence"},ee={key:"wisdom",label:"Wisdom"},ae={key:"charisma",label:"Charisma"},te=["Accessory","Armor","Consumable","Tool","Weapon"];function ne(e){var a=e.onAdd,t=e.onDelete,l=e.handleClose,i=e.open,c=e.initialValues,s=e.effects,o=e.title,u=s.filter((function(e){return e.source===o}));c.effects=u;return r.a.createElement("div",null,r.a.createElement(L.a,{fullWidth:!0,open:i,onClose:l,size:"xs"},r.a.createElement(M.a,null,o),r.a.createElement($.d,{initialValues:c,onSubmit:function(e){l(),a("inventory.".concat(e.name),Object(d.a)({},e))}},(function(e){var a=e.values;e.isSubmitting;return r.a.createElement($.c,null,r.a.createElement(V.a,null,r.a.createElement($.a,{as:P.a,autoFocus:!0,fullWidth:!0,name:"name",label:"Name"}),r.a.createElement($.a,{as:P.a,fullWidth:!0,name:"type",label:"Item Type",select:!0},te.map((function(e){return r.a.createElement(J.a,{key:e,value:e},e)}))),"Armor"===a.type?r.a.createElement(r.a.Fragment,null,r.a.createElement($.a,{as:P.a,fullWidth:!0,label:"Armor Bonus",name:"armorBonus",type:"number"}),r.a.createElement($.a,{as:P.a,fullWidth:!0,label:"Maximum Dexterity Bonus",name:"maxDexBonus",type:"number"}),r.a.createElement($.a,{as:P.a,fullWidth:!0,label:"Arcane Spell Failure Chance",name:"spellFailure",type:"number"})):null,r.a.createElement(B.a,{style:{marginTop:"32px"},variant:"h6"},"Effects"),r.a.createElement($.b,{name:"effects",render:function(e){e.insert;var t=e.remove,l=e.push;return r.a.createElement("div",null,a.effects.length>0&&a.effects.map((function(e,a){return r.a.createElement("div",{style:{alignItems:"baseline",display:"flex",justifyContent:"space-between"},key:a},r.a.createElement($.a,{as:P.a,name:"effects.".concat(a,".target"),label:"Effect Target",select:!0,style:{width:"33%"}},Object.values(n).map((function(e){return r.a.createElement(J.a,{key:e.key,value:e.key},e.label)}))),r.a.createElement($.a,{as:P.a,label:"Effect Value",name:"effects.".concat(a,".value"),type:"number"}),r.a.createElement(I.a,{type:"button",className:"secondary",onClick:function(){return t(a)}},r.a.createElement(Z.a,null)))})),r.a.createElement(m.a,{type:"button",className:"secondary",onClick:function(){return l({target:"",value:"",source:a.name})}},"Add Effect"))}})),r.a.createElement(G.a,null,t?r.a.createElement(m.a,{onClick:t},"Delete"):null,r.a.createElement(m.a,{type:"submit"},"Save")))}))))}var le=t(259);function re(e){var a=e.onAdd,t=e.onDelete,n=e.item,l=e.effects,i=r.a.useState(!1),c=Object(u.a)(i,2),s=c[0],o=c[1];return r.a.createElement("div",null,r.a.createElement(le.a,{className:"stat",variant:"outlined",onClick:function(){o(!0)}},r.a.createElement("span",null,n.name)),r.a.createElement(ne,{initialValues:n,handleClose:function(){o(!1)},open:s,onAdd:a,onDelete:function(){t(n.name,n)},effects:l,title:n.name}))}var ie={name:"",type:"",armorBonus:"",maxDexBonus:"",spellFailure:"",effects:[]};function ce(e){var a=Object(l.useContext)(A),t=a.state,n=a.dispatch,i=t.inventory,c=Object(l.useState)(!1),s=Object(u.a)(c,2),o=s[0],d=s[1],f=function(){d(!1)},y=function(){d(!0)},b=function(e,a){n({type:"add_item",payload:{key:e,value:a}}),n({type:"save_data"})},E=function(e,a){n({type:"delete_item",payload:{key:e,value:a}}),n({type:"save_data"})};return r.a.createElement("section",{className:"inventory"},r.a.createElement("h1",null,"Inventory"),r.a.createElement("div",{style:{display:"flex"}},i.sort().map((function(e){return r.a.createElement(re,{key:e.name,handleClose:f,onDelete:E,onAdd:b,item:e,effects:e.effects})}))),r.a.createElement(m.a,{onClick:y},"Add New Item"),r.a.createElement(ne,{initialValues:ie,onAdd:b,open:o,handleOpen:y,handleClose:f,effects:[],title:"New Item"}))}var se=function(e){var a=e.name,t=e.attacks,n=(e.attackBonus,e.damage,e.criticalRange);e.range;return r.a.createElement("div",{style:{border:"1px solid lightgray",padding:"1rem",marginBottom:"1rem"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("h4",null,a),r.a.createElement(H,{label:"Critical Range",value:n})),r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},t.map((function(e){return r.a.createElement("div",{style:{alignItems:"center",display:"flex",justifyContent:"space-between"}},r.a.createElement("span",null,e.name),r.a.createElement(H,{label:"Attack Bonus",value:k(e.bonus)}),r.a.createElement(H,{label:"Damage",value:e.damage}),e.range&&r.a.createElement(H,{label:"Range",value:null===e||void 0===e?void 0:e.range}))}))))};function oe(){var e=Object(l.useContext)(A).state,a=e.initiative,t=e.speed,n=e.cmb;return r.a.createElement("section",{className:"offense"},r.a.createElement("h1",null,"Offense"),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(H,{label:"Initiative",value:a}),r.a.createElement(H,{label:"Speed",value:t}),r.a.createElement(H,{label:"CMB",value:n})))}var me=t(260),ue=t(267),de=function(){var e=Object(l.useState)(6),a=Object(u.a)(e,2),t=a[0],n=a[1];return r.a.createElement(o.a,null,r.a.createElement("h1",null,"Isi"),r.a.createElement(ue.a,{exclusive:!0,onChange:function(e,a){n(a)},style:{paddingBottom:"1rem"},value:t},r.a.createElement(me.a,{value:6},"1st Attack"),r.a.createElement(me.a,{value:1},"2nd Attack")),r.a.createElement(se,{name:"Holy Longsword +2",attacks:[{name:"One Handed",bonus:t+7,damage:"2d8 + 5"},{name:"Two Handed",bonus:t+7,damage:"2d8 + 7"},{name:"Power Attack",bonus:t+5,damage:"2d8 + 11"},{name:"Two Handed Power Attack",bonus:t+5,damage:"2d8 + 13"}],criticalRange:"19-20/x2"}),r.a.createElement(se,{name:"Holy Shield +2",criticalRange:"x2",attacks:[{name:"Throw",bonus:t-2,damage:"1d6 + 2",range:"20 ft."}]}))},fe=function(){return r.a.createElement(o.a,null,r.a.createElement("h1",null,"Zara"),r.a.createElement(se,{name:"Light Crossbow",criticalRange:"19-20/x2",attacks:[{name:"Shoot",bonus:5,damage:"1d8",range:"80 ft."}]}),r.a.createElement(se,{name:"Dagger (Borrowed from Ash)",criticalRange:"19-20/x2",attacks:[{name:"Attack",bonus:0,damage:"1d4"},{name:"Throw",bonus:0,damage:"1d4",range:"10 ft."}],attackBonus:"+0",damage:"1d4"}))},ye=function(){var e=Object(l.useContext)(A),a=e.state,t=e.dispatch,n=a.edit;Object(l.useEffect)((function(){var e=JSON.parse(localStorage.getItem("state"));t({type:"import_data",payload:e})}),[t]);return r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/"},r.a.createElement(o.a,{className:"App"},r.a.createElement("main",null,r.a.createElement("header",{style:{display:"flex",alignItems:"baseline",justifyContent:"space-between"}},r.a.createElement("h1",null,"Character Sheet"),r.a.createElement("h2",null,"/character-sheet"),r.a.createElement(m.a,{onClick:function(){t({type:"on_input",payload:{key:"edit",value:!n}})},style:{height:"auto"}},n?"View Character":"Edit Character")),r.a.createElement("div",null,r.a.createElement(z,null),r.a.createElement(R,null),r.a.createElement(K,null),r.a.createElement(oe,null),r.a.createElement(ce,null))))),r.a.createElement(s.a,{path:"/isi"},r.a.createElement(de,null)),r.a.createElement(s.a,{path:"/zara"},r.a.createElement(fe,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var be=t(79);c.a.render(r.a.createElement(be.a,{basename:"/character-sheet"},r.a.createElement(j,null,r.a.createElement(ye,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[124,1,2]]]);
//# sourceMappingURL=main.f8e6de3b.chunk.js.map